
<html>
  <head>
    <title>chai-jq</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link rel="stylesheet" href="js/lib/mocha.css"/>
    <script src="js/lib/mocha.js"></script>
    <script src="js/lib/sinon.js"></script>
    <script src="js/lib/jquery.js"></script>
    <script src="js/lib/chai.js"></script>
    <script src="../chai-jq.js" data-cover="data-cover"></script>
    <script src="js/lib/blanket.js" data-cover-flags="branchTracking"></script>
    <script>
      // Set up Chai and Mocha.
      window.expect = chai.expect;
      mocha.setup("bdd");
      
      // Set up Mocha with custom Blanket.js reporter.
      (function (_reporter) {
        mocha.reporter(function (runner) {
          // Listeners.
          runner.on("start",  function () { blanket.setupCoverage(); });
          runner.on("suite",  function () { blanket.onModuleStart(); });
          runner.on("test",   function () { blanket.onTestStart(); });
          runner.on("test end", function (test) {
            blanket.onTestDone(test.parent.tests.length, test.state === "passed");
          });
          runner.on("end",    function () {
            blanket.onTestsDone();
            $("#blanket-main").show();
          });
          
          _reporter(runner);
        });
      }(mocha._reporter));
      
      // Run tests on window load.
      window.onload = function () {
        (window.mochaPhantomJS || mocha).run();
      };
    </script>
    <script src="js/spec/chai-jq.spec.js"></script>
  </head>
  <body>
    <div id="mocha"></div>
    <div id="blanket-main"></div>
    <div id="fixtures" style="position: absolute; bottom: 0;"></div>
  </body>
</html>