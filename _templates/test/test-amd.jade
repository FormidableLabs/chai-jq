html
  head
    title Frontend Testing
    meta(http-equiv="Content-Type", content="text/html; charset=UTF-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge,chrome=1")

    // Test styles and libraries.
    link(rel="stylesheet", href="js/lib/mocha.css")
    script(src="js/lib/mocha.js")
    script(src="js/lib/sinon.js")

    // Require.
    block libs
      script(src="js/lib/require.js")

    // Test Setup
    block setup
      script.
        // Set up Mocha.
        mocha.setup("bdd");

        // AMD setup.
        require.config({
          baseUrl: "js/lib",
          shim: {
            jquery: {
              exports: "$"
            }
          }
        });

        require(["chai", "../chai-jq"], function (chai) {
          // Set up AMD Chai (just make global for test cases).
          window.expect = chai.expect;

          // Add in specs.
          require(["../spec/chai-jq.spec"], function () {
            (window.mochaPhantomJS || mocha).run();
          })
        });
      //-

    block specs

  body
    #mocha
